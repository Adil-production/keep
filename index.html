<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Porbet Keep</title>
    <script type="module" src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.esm.js"></script>
    <script nomodule src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@ionic/core/css/ionic.bundle.css"/>
    <style>
        .test{
            
            border: solid 0.2px gray;
            border-radius: 10px;
            margin: 5px;
            width: 140px;
            overflow-y: hidden;
            box-sizing: border-box;
            height: 100px;
            display: inline-block;
            
            /*   daba ndozo lkhdma niiichan    */
        }
        .item1{
            border: solid 0.2px gray;
            border-radius: 10px;
            border-bottom-left-radius: 0px;
            border-bottom-right-radius: 0px;
            overflow-y: hidden;
            box-sizing: border-box;
            height: 35px;
            padding: 10px;
            background-color: rgb(224, 224, 224);
        }
        
        #main{
            padding: 5px;
        }

    </style>
</head>
<body>
    <ion-app>
        <ion-header>
            <ion-toolbar>
                <ion-buttons color="warning" slot="start" style="display: none;" id="back">
                    <ion-button color="warning"> Back </ion-button>
                </ion-buttons>
                <img src="keep.png" style="transform: translateX(20%);" width="35px" slot="start"/>
                <ion-title>
                        <ion-label>Porbet Keep</ion-label>
                </ion-title>
            </ion-toolbar>
        </ion-header>
        <ion-content>
            <ion-fab horizontal="end" color="warning" slot="fixed" vertical="bottom" id="add">
                <ion-fab-button color="warning">
                    <ion-icon name="add-sharp"></ion-icon>
                </ion-fab-button>
            </ion-fab>
            <div id="1">
                <ion-fab style="position: fixed;" horizontal="center" color="warning" slot="fixed" vertical="bottom" id="delete">
                    <ion-fab-button color="warning">
                        <ion-icon name="trash-sharp"></ion-icon>
                    </ion-fab-button>
                </ion-fab>
                <div id="main"></div>
                <div style="margin: 10px;">
                    <strong><h1 id="text"></h1></strong>
                    <h4 id="text2"></h4>
                </div>
            </div>
            <div id="2" style="display: none;">
                <ion-item>
                    <ion-label color="warning" position="floating">Title</ion-label>
                    <ion-input  id="title"></ion-input>
                </ion-item>
                <ion-item >
                    <ion-label color="warning" position="stacked">Content</ion-label>
                    <ion-textarea placeholder="More informations" id="content" rows="20" cols="100"></ion-textarea>
                  </ion-item>
                  <ion-button id="done" color="warning" style="margin: 10px;">Done</ion-button>
            </div>
            <br>
            
            <script>
                document.getElementById("add").addEventListener("click",function(){
                    document.getElementById("1").style.display = "none"
                    document.getElementById("2").style.display = "block"
                    document.getElementById("back").style.display = "block"
                })
                document.getElementById("back").addEventListener("click",function(){
                    window.location.reload()
                })
                document.getElementById("done").addEventListener("click",function(){
                    var title = document.getElementById("title")
                    var content = document.getElementById("content")
                    var data = localStorage.getItem("data")
                    if(data){
                        var title = document.getElementById("title")
                    var content = document.getElementById("content")
                        //exist
                        localStorage.setItem("data",data + `
                        <div onclick="document.getElementById('text').innerHTML = '${title.value}';document.getElementById('text2').innerHTML = '${content.value}';document.getElementById('main').style.display = 'none';document.getElementById('back').style.display = 'block';" class="test">
                            <div  align="center">
                                <div class="item1">${title.value}</div>
                                <div style="margin:10px"> ${content.value} </div>
                                <br>
                            </div>
                        </div>
                        `)
                        //ya rbi tsd9
                        document.getElementById("1").innerHTML = localStorage.getItem("data")
                        window.location.reload()
                    } else{
                        var title = document.getElementById("title")
                    var content = document.getElementById("content")
                        localStorage.setItem("data",`
                        <div onclick="document.getElementById('text').innerHTML = '${title.value}';document.getElementById('text2').innerHTML = '${content.value}';document.getElementById('main').style.display = 'none';document.getElementById('back').style.display = 'block';" class="test">
                            <div align="center"  >
                                <div class="item1">${title.value}</div>
                                <div style="margin:10px">${content.value} </div>
                                <br>
                            </div>
                        </div>
                        `)
                        document.getElementById("1").innerHTML = localStorage.getItem("data")
                        window.location.reload()
                    }
                })
                window.addEventListener("load",function(){
                    document.getElementById("main").innerHTML = localStorage.getItem("data")
                })
                
                document.getElementById("delete").addEventListener("click",function(){
                    localStorage.removeItem("data")
                    window.location.reload()
                })
               
            </script>
        </ion-content>
    </ion-app>
</body>
</html>
